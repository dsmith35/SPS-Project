<!--Home Page (Shown after logging in)-->
<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <script src="script.js"></script>
    <title>FUNION - Home</title>
</head>
<body onload="getGroups();displayGroups();">
    
    <div class="top-bar">
        <h3>FUNION</h3>
            <ul class="main-menu">
                <li class="active"> <a href="home.html">Home</a></li>
                <li><a href="todo.html">To Do List</a> </li>
                <li> <a href="gallery.html">Gallery</a></li>
                <li> <a href="Forum.html">Forum</a> </li>
            </ul>
            <select id="groups-list" onChange="setGroup(this);redirectToHome();">
            </select>
            <a class = "signout" href="index.html" onclick="signOut();">Sign out</a>
            
    </div>
    <div class="content">
      <button id="create-group-btn" onClick="showElement('new-group-startup');hideElement('create-group-btn');">New Group</button>
      <div id="new-group-startup" style="display: none;">
        <form method="POST" action="/new-group-handler">
          <input type="text" name="name" placeholder="Group Name"></textarea>
          <input type="hidden" id="userID-container1" name="userID">
          <br/>
          <input type="submit" value="Create"/>
        </form>
      </div>
      <button id="join-group-btn" onClick="showElement('join-group');hideElement('join-group-btn');">Join Group</button>
      <div id="join-group" style="display: none;">
        <form method="POST" action="/new-member-handler">
          <input type="text" name="groupID" placeholder="Group ID"></textarea>
          <input type="hidden" id="userID-container2" name="userID">
          <br/>
          <input type="submit" value="Join"/>
        </form>
      </div>
    </div>
    <div id="all-groups-container"></div>
    <script>
        const userID = localStorage.getItem('userID');
        document.getElementById("userID-container1").value = userID;
        document.getElementById("userID-container2").value = userID;
    </script>
    
    <script>
        function signOut() {
            var auth2 = gapi.auth2.getAuthInstance();
            auth2.signOut().then(function () {
            });
            auth2.disconnect();
            localStorage.removeItem('userID');
        }
      </script>
</body>
</html>