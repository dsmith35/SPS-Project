<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>My Portfolio</title>
    <link rel="stylesheet" href="style.css">
    <script src="script.js"></script>
  </head>
  <body onload="getThreads();getGroups();">
    <div class="top-bar">
        <h3>FUNION</h3>
            <ul class="main-menu">
                <li> <a href="home.html">Home</a></li>
                <li><a href="todo.html">To Do List</a> </li>
                <li> <a href="">Gallery</a></li>
                <li class="active"> <a href="Forum.html">Forum</a> </li>
                <select id="groups-list" onChange="setGroup(this);redirectToHome();">
                </select>
            </ul>
    </div>
      <div id="all-threads-container"></div>
      <button id="create-thread-btn" onClick="showElement('new-thread-startup');hideElement('create-thread-btn');">New Thread</button>
      <div id="new-thread-startup" style="display: none;">
        <form method="POST" action="/new-thread-handler" onsubmit="getThreads();">
          <input type="text" name="title" placeholder="Thread Title"></textarea>
          <input type="hidden" id="groupID-container" name="groupID">
          <br/>
          <input type="submit" value="Create"/>
        </form>
      </div>
      <script>
          const groupID = localStorage.getItem('groupID');
          document.getElementById("groupID-container").value = groupID;
      </script>
      <script>
        //  Default Thread
          const container = document.getElementById("all-threads-container"); 
          const threadOuter = document.createElement('div');
          threadOuter.classList.add("forum-thread-outer");
          const thread = document.createElement('a');
          threadOuter.appendChild(thread);
          thread.classList.add("forum-thread");
          thread.href=`/Thread.html?id=0`;
          thread.innerHTML="General";
          container.appendChild(threadOuter);
      </script>
      
  </body>
</html>